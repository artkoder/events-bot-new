# User Story: –¢—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∞—è –º–µ—Ç–∫–∞ (—Ä—É—á–Ω–æ–π —Ä–µ–∂–∏–º)

## User Story

**–ö–∞–∫** —Ä–µ–¥–∞–∫—Ç–æ—Ä —Å–æ–±—ã—Ç–∏–π –∞—Ñ–∏—à–∏,

**–Ø —Ö–æ—á—É** –≤—Ä—É—á–Ω—É—é –æ—Ç–º–µ—á–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫–∏ —Å—Ç–∞—Ç—É—Å–æ–º ¬´üåç –¢—É—Ä–∏—Å—Ç–∞–º¬ª, –≤—ã–±–∏—Ä–∞—Ç—å –ø—Ä–∏—á–∏–Ω—ã –∏ –¥–æ–±–∞–≤–ª—è—Ç—å –∫–æ—Ä–æ—Ç–∫–∏–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π,

**–ß—Ç–æ–±—ã** –∫–æ–º–∞–Ω–¥–∞ —Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–æ–≥–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—É—á–∞–ª–∞ –∫–æ—Ä–ø—É—Å –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π —Å –ø–æ–Ω—è—Ç–Ω—ã–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º.

## –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏

1. –ö–∞—Ä—Ç–æ—á–∫–∞ —Å–æ–±—ã—Ç–∏—è –≤ Telegram –∏ VK –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –±–ª–æ–∫ ¬´üåç –¢—É—Ä–∏—Å—Ç–∞–º¬ª —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º (`–î–∞`/`–ù–µ—Ç`/`‚Äî`), —Å—á—ë—Ç—á–∏–∫–æ–º –ø—Ä–∏—á–∏–Ω –∏ –æ—Ç–º–µ—Ç–∫–æ–π –æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏.
2. –ë–∞–∑–æ–≤–∞—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –ø–æ–¥ –∫–∞—Ä—Ç–æ—á–∫–æ–π —Å–æ–¥–µ—Ä–∂–∏—Ç ¬´–ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ —Ç—É—Ä–∏—Å—Ç–∞–º¬ª, ¬´–ù–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ —Ç—É—Ä–∏—Å—Ç–∞–º¬ª, ¬´–ü—Ä–∏—á–∏–Ω—ã¬ª, ¬´‚úçÔ∏è –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π¬ª, –∞ –ø—Ä–∏ –Ω–µ–ø—É—Å—Ç–æ–º `tourist_note` –ø–æ—è–≤–ª—è–µ—Ç—Å—è ¬´üßΩ –û—á–∏—Å—Ç–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π¬ª.
3. –ù–∞–∂–∞—Ç–∏—è ¬´–ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ —Ç—É—Ä–∏—Å—Ç–∞–º¬ª –∏ ¬´–ù–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ —Ç—É—Ä–∏—Å—Ç–∞–º¬ª –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –æ–±–Ω–æ–≤–ª—è—é—Ç `tourist_label`, `tourist_label_by`, `tourist_label_at` (UTC) –∏ `tourist_label_source="operator"`, –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞—é—Ç –∫–∞—Ä—Ç–æ—á–∫—É –±–µ–∑ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –ø–∏—à—É—Ç –ª–æ–≥ `tourist_label_update` —Å `event_id` –∏ `user_id`.
4. –ö–Ω–æ–ø–∫–∞ ¬´–ü—Ä–∏—á–∏–Ω—ã¬ª –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –º–µ–Ω—é —Å –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è–º–∏ `‚ûï/‚úÖ` –¥–ª—è —Ñ–∞–∫—Ç–æ—Ä–æ–≤ `üéØ –ù–∞—Ü–µ–ª–µ–Ω –Ω–∞ —Ç—É—Ä–∏—Å—Ç–æ–≤`, `üß≠ –£–Ω–∏–∫–∞–ª—å–Ω–æ –¥–ª—è —Ä–µ–≥–∏–æ–Ω–∞`, `üé™ –ö—Ä—É–ø–Ω—ã–π —Ñ–µ—Å—Ç–∏–≤–∞–ª—å –∏–ª–∏ —Å–æ–±—ã—Ç–∏–µ`, `üåä –ü—Ä–∏—Ä–æ–¥–∞ –∏–ª–∏ –∑–Ω–∞–∫–æ–≤–æ–µ –º–µ—Å—Ç–æ`, `üì∏ –§–æ—Ç–æ–≥–µ–Ω–∏—á–Ω–æ, –ø–æ–Ω—Ä–∞–≤–∏—Ç—Å—è –±–ª–æ–≥–µ—Ä–∞–º`, `üç≤ –ú–µ—Å—Ç–Ω—ã–π –∫–æ–ª–æ—Ä–∏—Ç –∏ —Ä–µ–º—ë—Å–ª–∞`, `üöÜ –ü—Ä–æ—Å—Ç–∞—è –ª–æ–≥–∏—Å—Ç–∏–∫–∞`; –≤—ã–±–æ—Ä —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `tourist_factors` –ø–æ –ø–æ—Ä—è–¥–∫—É —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞ –∏ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ `tourist_factor_toggle`.
5. –ú–µ–Ω—é –ø—Ä–∏—á–∏–Ω –∂–∏–≤—ë—Ç –≤ `tourist_reason_sessions` 15 –º–∏–Ω—É—Ç, –ø–æ —Ç–∞–π–º-–∞—É—Ç—É –∏–ª–∏ –∫–Ω–æ–ø–∫–∞–º ¬´–ì–æ—Ç–æ–≤–æ¬ª/¬´–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å¬ª –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –±–∞–∑–æ–≤—É—é –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ç–æ—Å—Ç ¬´–ü—Ä–∏—á–∏–Ω—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã¬ª –∏–ª–∏ ¬´–ü—Ä–∏—á–∏–Ω—ã –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –ø–æ–∑–∂–µ¬ª.
6. ¬´‚úçÔ∏è –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π¬ª –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–µ—Å—Å–∏—é –≤ `tourist_note_sessions` –Ω–∞ 10 –º–∏–Ω—É—Ç, –±–æ—Ç –ø—Ä–æ—Å–∏—Ç —Ç–µ–∫—Å—Ç, –æ–±—Ä–µ–∑–∞–µ—Ç –æ—Ç–≤–µ—Ç –¥–æ 500 —Å–∏–º–≤–æ–ª–æ–≤, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ `tourist_note`, –æ–±–Ω–æ–≤–ª—è–µ—Ç –∞–≤—Ç–æ—Ä–∞/–¥–∞—Ç—É/–∏—Å—Ç–æ—á–Ω–∏–∫ –∏ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç –ª–æ–≥ `tourist_note_saved` —Å —Ñ–ª–∞–≥–æ–º `has_note`.
7. ¬´üßΩ –û—á–∏—Å—Ç–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π¬ª —É–¥–∞–ª—è–µ—Ç `tourist_note`, –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–µ—Ç –∞–≤—Ç–æ—Ä–∞/–¥–∞—Ç—É/–∏—Å—Ç–æ—á–Ω–∏–∫ –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –ª–æ–≥ `tourist_note_cleared`.
8. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –±–µ–∑ –¥–æ—Å—Ç—É–ø–∞ (–ø–∞—Ä—Ç–Ω—ë—Ä—ã, –≥–æ—Å—Ç–∏, –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ) –ø–æ–ª—É—á–∞—é—Ç ¬´Not authorized¬ª, –¥–∞–Ω–Ω—ã–µ –Ω–µ –º–µ–Ω—è—é—Ç—Å—è –∏ –ª–æ–≥ –Ω–µ –ø–æ–ø–æ–ª–Ω—è–µ—Ç—Å—è.
9. –ö–∞–∂–¥–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç `tourist_message_sources[(chat_id, message_id)]`, —á—Ç–æ–±—ã —Ä–∞–∑–ª–∏—á–∞—Ç—å –æ—Ç–≤–µ—Ç—ã Telegram –∏ VK.
10. –ö–æ–º–∞–Ω–¥–∞ `/tourist_export [--period | period=]` –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–µ–º –∂–µ —Ä–æ–ª—è–º, —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç `.jsonl` —Å–æ –≤—Å–µ–º–∏ –ø–æ–ª—è–º–∏ —Å–æ–±—ã—Ç–∏—è –∏ –∫–æ–ª–æ–Ω–∫–∞–º–∏ `tourist_*`, —Å–æ—Ä—Ç–∏—Ä—É–µ—Ç —Å—Ç—Ä–æ–∫–∏ –ø–æ –¥–∞—Ç–µ/ID, –Ω–∞–∑—ã–≤–∞–µ—Ç —Ñ–∞–π–ª `tourist_export_<start>_<end>_<timestamp>.jsonl`, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç ¬´No events found¬ª –ø—Ä–∏ –ø—É—Å—Ç–æ–º –Ω–∞–±–æ—Ä–µ –∏ –ª–æ–≥–∏—Ä—É–µ—Ç `tourist_export.request`, `tourist_export.start`, `tourist_export.done`.
