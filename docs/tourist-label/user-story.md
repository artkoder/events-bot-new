# User Story: –¢—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∞—è –º–µ—Ç–∫–∞ (—Ä—É—á–Ω–æ–π —Ä–µ–∂–∏–º)

## User Story

**–ö–∞–∫** –Ω–µ–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–æ–¥–µ—Ä–∞—Ç–æ—Ä –∏–ª–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –∞—Ñ–∏—à–∏,

**–Ø —Ö–æ—á—É** –ø–æ–º–µ—á–∞—Ç—å —Å–æ–±—ã—Ç–∏—è –∫–∞–∫ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ –∏–ª–∏ –Ω–µ–∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ —Ç—É—Ä–∏—Å—Ç–∞–º, –ø–æ—è—Å–Ω—è—Ç—å —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–∏—á–∏–Ω–∞–º–∏ –∏ –∫–æ—Ä–æ—Ç–∫–∏–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–º,

**–ß—Ç–æ–±—ã** —Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã –º–æ–≥–ª–∏ —Å–æ–±–∏—Ä–∞—Ç—å –∫–æ—Ä–ø—É—Å —Å–æ–±—ã—Ç–∏–π –¥–ª—è —Ä–∞—Å—Å—ã–ª–æ–∫ –∏ –≤–∏–¥–µ—Ç—å –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç —Ä–µ—à–µ–Ω–∏–π –ø—Ä—è–º–æ –≤ –∫–∞—Ä—Ç–æ—á–∫–µ.

## –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏

1. –ö–∞—Ä—Ç–æ—á–∫–∞ —Å–æ–±—ã—Ç–∏—è –≤ Telegram –∏ VK —Å–æ–¥–µ—Ä–∂–∏—Ç –±–ª–æ–∫ ¬´üåç –¢—É—Ä–∏—Å—Ç–∞–º¬ª —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º (`–î–∞`/`–ù–µ—Ç`/`‚Äî`), —Å—á—ë—Ç—á–∏–∫–æ–º –ø—Ä–∏—á–∏–Ω –∏ –º–µ—Ç–∫–æ–π –æ –Ω–∞–ª–∏—á–∏–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è.
2. –ü–æ–¥ –±–ª–æ–∫–æ–º –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–Ω–æ–ø–∫–∏ ¬´–ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ —Ç—É—Ä–∏—Å—Ç–∞–º¬ª, ¬´–ù–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ —Ç—É—Ä–∏—Å—Ç–∞–º¬ª, ¬´–ü—Ä–∏—á–∏–Ω—ã¬ª –∏ ¬´‚úçÔ∏è –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π¬ª; –ø—Ä–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º `tourist_note` –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è ¬´üßΩ –û—á–∏—Å—Ç–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π¬ª.
3. –ù–∞–∂–∞—Ç–∏–µ ¬´–ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ —Ç—É—Ä–∏—Å—Ç–∞–º¬ª –∏–ª–∏ ¬´–ù–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ —Ç—É—Ä–∏—Å—Ç–∞–º¬ª —Å—Ä–∞–∑—É –æ–±–Ω–æ–≤–ª—è–µ—Ç `tourist_label`, `tourist_label_by`, `tourist_label_at` (UTC) –∏ `tourist_label_source="operator"`, –∑–∞–º–µ–Ω—è–µ—Ç —Ç–µ–∫—Å—Ç –∫–∞—Ä—Ç–æ—á–∫–∏ –∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –ø–∏—à–µ—Ç –≤ –ª–æ–≥ `tourist_label_update` —Å `event_id` –∏ `user_id`.
4. –ö–Ω–æ–ø–∫–∞ ¬´–ü—Ä–∏—á–∏–Ω—ã¬ª –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –º–µ–Ω—é —Å —á–µ–∫–±–æ–∫—Å–∞–º–∏ `‚úÖ/‚ûï` –¥–ª—è —Ñ–∞–∫—Ç–æ—Ä–æ–≤:
   - `üéØ –°–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è —Ç—É—Ä–∏—Å—Ç–æ–≤`
   - `üß≠ –ï—Å—Ç—å —Ç–æ–ª—å–∫–æ –∑–¥–µ—Å—å`
   - `üìç –ó–Ω–∞–∫–æ–≤–æ–µ –º–µ—Å—Ç–æ`
   - `üèôÔ∏è –ü–æ–≥—Ä—É–∂–∞–µ—Ç –≤ –∂–∏–∑–Ω—å –º–µ—Å—Ç–Ω—ã—Ö`
   - `üåø –ü—Ä–∏—Ä–æ–¥–∞ –∏ –≤–∏–¥—ã`
   - `üçΩÔ∏è –ú–µ—Å—Ç–Ω–∞—è –≥–∞—Å—Ç—Ä–æ–Ω–æ–º–∏—è`
   - `üë®‚Äçüë©‚Äçüëß‚Äçüë¶ –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Å–µ–º—å–∏`
   –í—ã–±–æ—Ä —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è –≤ `tourist_factors` —Å —É–ø–æ—Ä—è–¥–æ—á–∏–≤–∞–Ω–∏–µ–º –ø–æ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫—É, –¥–µ–π—Å—Ç–≤–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –∫–∞–∫ `tourist_factor_toggle`.
5. –°–µ—Å—Å–∏—è –≤—ã–±–æ—Ä–∞ –ø—Ä–∏—á–∏–Ω —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `tourist_reason_sessions` 15 –º–∏–Ω—É—Ç; –ø–æ —Ç–∞–π–º–∞—É—Ç—É –º–µ–Ω—é –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è, –∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä—É –Ω—É–∂–Ω–æ —Å–Ω–æ–≤–∞ –Ω–∞–∂–∞—Ç—å ¬´–ü—Ä–∏—á–∏–Ω—ã¬ª.
6. –ö–Ω–æ–ø–∫–∞ ¬´‚úçÔ∏è –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π¬ª –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–µ—Å—Å–∏—é –≤ `tourist_note_sessions` –Ω–∞ 10 –º–∏–Ω—É—Ç, –±–æ—Ç –ø—Ä–∏—Å—ã–ª–∞–µ—Ç –ø–æ–¥—Å–∫–∞–∑–∫—É ¬´–û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –¥–ª—è —Ç—É—Ä–∏—Å—Ç–æ–≤ –æ–¥–Ω–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º. –°–µ—Å—Å–∏—è –¥–ª–∏—Ç—Å—è 10 –º–∏–Ω—É—Ç.¬ª –∏ –∂–¥—ë—Ç —Ç–µ–∫—Å—Ç.
7. –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –æ–±—Ä–µ–∑–∞–µ—Ç—Å—è –¥–æ 500 —Å–∏–º–≤–æ–ª–æ–≤, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `tourist_note`, –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è `tourist_label_by`, `tourist_label_at`, `tourist_label_source="operator"`, –∫–∞—Ä—Ç–æ—á–∫–∞ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç—Å—è, –∞ –ª–æ–≥ –ø–æ–ª—É—á–∞–µ—Ç –∑–∞–ø–∏—Å—å `tourist_note_saved` (—Å —Ñ–ª–∞–≥–æ–º `has_note`).
8. –ö–Ω–æ–ø–∫–∞ ¬´üßΩ –û—á–∏—Å—Ç–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π¬ª —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç `tourist_note`, –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –∞–≤—Ç–æ—Ä–∞/–¥–∞—Ç—É/–∏—Å—Ç–æ—á–Ω–∏–∫ –∏ –ª–æ–≥–∏—Ä—É–µ—Ç `tourist_note_cleared`.
9. –ü–µ—Ä–µ—Ö–æ–¥—ã ¬´–ì–æ—Ç–æ–≤–æ¬ª –∏ ¬´–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å¬ª –∑–∞–∫—Ä—ã–≤–∞—é—Ç –º–µ–Ω—é –ø—Ä–∏—á–∏–Ω, –∑–∞–Ω–æ–≤–æ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –±–∞–∑–æ–≤—É—é –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É, –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç —Ç–æ—Å—Ç ¬´–ü—Ä–∏—á–∏–Ω—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã¬ª –∏–ª–∏ ¬´–ü—Ä–∏—á–∏–Ω—ã –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –ø–æ–∑–∂–µ¬ª.
10. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±–µ–∑ –ø—Ä–∞–≤ (–ø–∞—Ä—Ç–Ω—ë—Ä—ã, –≥–æ—Å—Ç–∏, –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ) –ø–æ–ª—É—á–∞–µ—Ç ¬´Not authorized¬ª, –¥–∞–Ω–Ω—ã–µ –æ—Å—Ç–∞—é—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π, –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è.
11. –ö–∞–∂–¥–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç `tourist_message_sources[(chat_id, message_id)]`, —á—Ç–æ–±—ã –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ –æ—Ç–≤–µ—Ç—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–∑–ª–∏—á–∞–ª–∏ Telegram –∏ VK.
12. –ö–æ–º–∞–Ω–¥–∞ `/tourist_export [--period | period=]` –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–µ–º –∂–µ —Ä–æ–ª—è–º, —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç `.jsonl` —Å –ø–æ–ª—è–º–∏ —Å–æ–±—ã—Ç–∏—è –∏ –≤—Å–µ–º–∏ `tourist_*`, —Å–æ—Ä—Ç–∏—Ä—É–µ—Ç —Å—Ç—Ä–æ–∫–∏ –ø–æ –¥–∞—Ç–µ/ID, –∏–º–µ–Ω—É–µ—Ç —Ñ–∞–π–ª –∫–∞–∫ `tourist_export_<start>_<end>_<timestamp>.jsonl`, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç ¬´No events found¬ª –ø—Ä–∏ –ø—É—Å—Ç–æ–º –Ω–∞–±–æ—Ä–µ –∏ –ª–æ–≥–∏—Ä—É–µ—Ç `tourist_export.request/start/done`.
